(()=>{"use strict";class e{static create(n){return fetch("https://question-app-85d33-default-rtdb.europe-west1.firebasedatabase.app/questions.json",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>(n.id=e.name,n))).then(t).then(e.renderList)}static renderList(){const e=n(),t=e.length?e.map(i).join(""):'<div class="mui--text-headline">Вопросов нет</div>';document.querySelector(".list").innerHTML=t}}function t(e){const t=n();t.push(e),localStorage.setItem("questions",JSON.stringify(t))}function n(){return JSON.parse(localStorage.getItem("questions")||"[]")}function i(e){return`\n    <div class="mui--text-black-54">\n    ${new Date(e.date).toLocaleDateString()}\n    ${new Date(e.date).toLocaleTimeString()}\n    </div>\n    <div>${e.text}</div>\n    <br>\n    `}function s(e){return e.length>=10}(()=>{window.addEventListener("load",e.renderList);const t=document.querySelector("#form");console.log(t);const n=t.querySelector("#input-question"),i=t.querySelector(".mui-btn");t.addEventListener("submit",(t=>{if(t.preventDefault(),s(n.value)){const t={text:n.value.trim(),date:(new Date).toJSON()};i.disabled=!0,e.create(t).then((()=>{console.log("question",t),n.value="",n.className="",i.disabled=!1}))}})),n.addEventListener("input",(e=>{i.disabled=!s(n.value)}))})()})();